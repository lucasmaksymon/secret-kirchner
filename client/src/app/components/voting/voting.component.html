<div class="voting-container" *ngIf="gameState$ | async as gameState">
  <!-- Solapas de informaciÃ³n del tablero -->
  <div class="board-info-tabs">
    <div class="info-tab" (mouseenter)="showTab('policies')" (mouseleave)="hideTab()">
      <div class="tab-trigger">
        ğŸ“Š PolÃ­ticas
      </div>
      <div class="tab-content" [class.active]="activeTab === 'policies'">
        <div class="policies-mini">
          <div class="policy-mini libertario">
            <span class="mini-label">ğŸ¦… Libertarios</span>
            <span class="mini-count">{{ gameState.libertarianPolicies }}/5</span>
          </div>
          <div class="policy-mini kirchnerista">
            <span class="mini-label">âœŠ Kirchneristas</span>
            <span class="mini-count">{{ gameState.kirchneristaPolicies }}/6</span>
          </div>
        </div>
      </div>
    </div>

    <div class="info-tab" (mouseenter)="showTab('players')" (mouseleave)="hideTab()">
      <div class="tab-trigger">
        ğŸ‘¥ Jugadores
      </div>
      <div class="tab-content" [class.active]="activeTab === 'players'">
        <div class="players-mini">
          <div class="stat-mini">ğŸ’š {{ getAlivePlayers(gameState) }} Vivos</div>
          <div class="stat-mini">ğŸ’€ {{ getDeadPlayers(gameState) }} Muertos</div>
        </div>
      </div>
    </div>

    <div class="info-tab" (mouseenter)="showTab('rejections')" (mouseleave)="hideTab()">
      <div class="tab-trigger">
        ğŸ—³ï¸ Rechazos
      </div>
      <div class="tab-content" [class.active]="activeTab === 'rejections'">
        <div class="rejections-mini">
          <span class="mini-label">Gobiernos rechazados:</span>
          <span class="mini-count" [class.danger]="gameState.failedGovernments >= 2">
            {{ gameState.failedGovernments }}/3
          </span>
        </div>
      </div>
    </div>

    <div class="info-tab" (mouseenter)="showTab('deck')" (mouseleave)="hideTab()">
      <div class="tab-trigger">
        ğŸƒ Mazo
      </div>
      <div class="tab-content" [class.active]="activeTab === 'deck'">
        <div class="deck-mini">
          <div class="stat-mini">ğŸ“š {{ gameState.deckSize }} en mazo</div>
          <div class="stat-mini">ğŸ—‘ï¸ {{ gameState.discardSize }} descartadas</div>
        </div>
      </div>
    </div>
  </div>

  <div class="card">
  <h3 class="text-center">ğŸ—³ï¸ VotaciÃ³n del Gobierno</h3>

  <div class="government-proposal">
    <div class="proposal-header">
      <h4>Gobierno Propuesto:</h4>
    </div>
    <div class="government-roles">
      <div class="role-item">
        <span class="role-icon">ğŸ©</span>
        <div class="role-info">
          <span class="role-label">Presidente</span>
          <span class="role-name">{{ getPresident() }}</span>
        </div>
      </div>
      <div class="connector">+</div>
      <div class="role-item">
        <span class="role-icon">ğŸ’¼</span>
        <div class="role-info">
          <span class="role-label">Jefe de Gabinete</span>
          <span class="role-name">{{ getNominatedCabinetChief() }}</span>
        </div>
      </div>
    </div>
  </div>

  <div class="voting-instructions text-center mt-3">
    <p *ngIf="canVote()">
      ğŸ’¡ <strong>Â¿ConfÃ­as en este gobierno?</strong>
    </p>
    <p *ngIf="canVote()">
      VotÃ¡ "Â¡Vamos!" para aprobar o "Â¡RajÃ¡!" para rechazar
    </p>
    <p *ngIf="hasVoted" class="text-success">
      âœ… Tu voto ha sido registrado. Esperando a los demÃ¡s jugadores...
    </p>
  </div>

  <div class="vote-buttons" *ngIf="canVote() && !hasVoted">
    <button 
      class="vote-btn ja-btn"
      (click)="vote(true)"
    >
      <span class="vote-icon">âœŠ</span>
      <span class="vote-text">Â¡Vamos!</span>
      <span class="vote-subtitle">(Aprobar)</span>
    </button>

    <button 
      class="vote-btn nein-btn"
      (click)="vote(false)"
    >
      <span class="vote-icon">ğŸš«</span>
      <span class="vote-text">Â¡RajÃ¡!</span>
      <span class="vote-subtitle">(Rechazar)</span>
    </button>
  </div>

  <div *ngIf="hasVoted" class="vote-status mt-3">
    <div class="voted-indicator" [class.vote-yes]="selectedVote" [class.vote-no]="!selectedVote">
      <span class="indicator-icon">
        {{ selectedVote ? 'âœŠ' : 'ğŸš«' }}
      </span>
      <span class="indicator-text">
        Votaste: <strong>{{ selectedVote ? 'Â¡Vamos!' : 'Â¡RajÃ¡!' }}</strong>
      </span>
    </div>
  </div>

  <div class="voting-info mt-3 text-center text-muted">
    <p>â„¹ï¸ Los votos se revelarÃ¡n cuando todos hayan votado</p>
    <p>Se necesita mayorÃ­a simple para aprobar el gobierno</p>
  </div>
</div>

