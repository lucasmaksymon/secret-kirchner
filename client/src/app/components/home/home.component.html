<div class="home-container">
  <div class="header text-center">
    <h1>ğŸ­ El Secreto de Kirchner</h1>
    <p class="subtitle">Juego de deducciÃ³n social | 5-10 jugadores | ~30 min</p>
  </div>

  <div class="main-content">
    <!-- Left Column: Room -->
    <div class="room-section">
      <h2 class="section-title">ğŸ  Sala</h2>
      <div class="card">
      <div class="player-name-section">
        <label>Tu nombre:</label>
        <input 
          type="text" 
          [(ngModel)]="playerName" 
          placeholder="Ingresa tu nombre..."
          maxlength="20"
        />
      </div>

      <div class="actions mt-3">
        <button 
          class="btn btn-primary" 
          (click)="toggleCreateRoom()"
        >
          {{ showCreateRoom ? 'â¬…ï¸ Volver' : 'â• Crear Sala Nueva' }}
        </button>
      </div>

      <div *ngIf="showCreateRoom" class="create-room-section mt-3 fade-in">
        <label>Nombre de la sala:</label>
        <input 
          type="text" 
          [(ngModel)]="roomName" 
          placeholder="Mi sala..."
          maxlength="30"
        />
        <button 
          class="btn btn-success mt-2" 
          (click)="createRoom()"
          [disabled]="!playerName.trim() || !roomName.trim()"
        >
          ğŸš€ Crear y Entrar
        </button>
      </div>

      <div *ngIf="!showCreateRoom" class="rooms-section mt-3">
        <div class="rooms-header">
          <h3>Salas Disponibles</h3>
          <button class="btn btn-primary" (click)="loadRooms()">
            ğŸ”„ Actualizar
          </button>
        </div>

        <div *ngIf="rooms.length === 0" class="no-rooms text-center text-muted mt-3">
          <p>ğŸ˜• No hay salas disponibles</p>
          <p>Â¡Crea una nueva sala para empezar!</p>
        </div>

        <div class="rooms-list grid grid-2 mt-2">
          <div 
            *ngFor="let room of rooms" 
            class="room-card card"
            (click)="joinRoom(room.roomId)"
          >
            <h4>{{ room.roomName }}</h4>
            <p class="text-muted">
              ğŸ‘¥ {{ room.playerCount }} / {{ room.maxPlayers }} jugadores
            </p>
            <button 
              class="btn btn-libertario mt-2"
              [disabled]="!playerName.trim()"
            >
              Unirse
            </button>
          </div>
        </div>
      </div>
      </div>
    </div>

    <!-- Right Column: How to Play -->
    <div class="guide-section">
      <h2 class="section-title">ğŸ® Â¿CÃ³mo jugar?</h2>
      
      <div class="accordion-item">
        <div class="accordion-header" (click)="toggleAccordion('objetivo')">
          <span class="accordion-title">ğŸ¯ Objetivo del Juego</span>
          <span class="accordion-icon">{{ accordionStates.objetivo ? 'â–¼' : 'â–¶' }}</span>
        </div>
        <div class="accordion-content" [class.open]="accordionStates.objetivo">
          <div class="accordion-body">
            <div class="team-info">
              <div class="team-item libertario">
                <span class="team-icon">ğŸŸª</span>
                <div>
                  <strong>Libertarios (MayorÃ­a)</strong>
                  <p>Aprobar 5 decretos libertarios o eliminar a El Jefe</p>
                </div>
              </div>
              <div class="team-item kirchnerista">
                <span class="team-icon">ğŸŸ¦</span>
                <div>
                  <strong>Kirchneristas (MinorÃ­a)</strong>
                  <p>Aprobar 6 decretos kirchneristas o elegir a El Jefe como Jefe de Gabinete despuÃ©s de 3 decretos K</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header" (click)="toggleAccordion('flujo')">
          <span class="accordion-title">âš™ï¸ Flujo del Juego</span>
          <span class="accordion-icon">{{ accordionStates.flujo ? 'â–¼' : 'â–¶' }}</span>
        </div>
        <div class="accordion-content" [class.open]="accordionStates.flujo">
          <div class="accordion-body">
            <ol class="game-steps">
              <li><strong>ElecciÃ³n:</strong> El Presidente nomina un Jefe de Gabinete</li>
              <li><strong>VotaciÃ³n:</strong> Todos votan "Â¡Vamos!" (sÃ­) o "Â¡RajÃ¡!" (no)</li>
              <li><strong>Si gana el Â¡Vamos!:</strong> El gobierno legisla</li>
              <li><strong>LegislaciÃ³n:</strong> Presidente elige 2 de 3 decretos</li>
              <li><strong>PromulgaciÃ³n:</strong> Jefe de Gabinete elige 1 de 2 para promulgar</li>
              <li><strong>Poderes:</strong> SegÃºn decretos kirchneristas promulgados</li>
              <li><strong>Si gana el Â¡RajÃ¡!:</strong> Se suma un fallo (3 fallos = caos electoral)</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header" (click)="toggleAccordion('poderes')">
          <span class="accordion-title">ğŸ’¼ Poderes Presidenciales</span>
          <span class="accordion-icon">{{ accordionStates.poderes ? 'â–¼' : 'â–¶' }}</span>
        </div>
        <div class="accordion-content" [class.open]="accordionStates.poderes">
          <div class="accordion-body">
            <ul class="powers-list">
              <li>ğŸ“Š <strong>Intervenir INDEC:</strong> Ver las prÃ³ximas 3 cartas del mazo</li>
              <li>ğŸ•µï¸ <strong>Investigar con AFIP:</strong> Ver la lealtad secreta de un jugador</li>
              <li>ğŸ›ï¸ <strong>SesiÃ³n Especial:</strong> Elegir quiÃ©n serÃ¡ el prÃ³ximo Presidente</li>
              <li>ğŸ’€ <strong>OperaciÃ³n Traslado:</strong> Eliminar a un jugador del juego</li>
              <li>ğŸš« <strong>Veto Presidencial:</strong> Rechazar ambas cartas (solo despuÃ©s de 5 decretos K)</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <div class="accordion-header" (click)="toggleAccordion('consejos')">
          <span class="accordion-title">ğŸ’¡ Consejos EstratÃ©gicos</span>
          <span class="accordion-icon">{{ accordionStates.consejos ? 'â–¼' : 'â–¶' }}</span>
        </div>
        <div class="accordion-content" [class.open]="accordionStates.consejos">
          <div class="accordion-body">
            <ul class="tips-list">
              <li>ğŸ—£ï¸ <strong>Comunica:</strong> Usa el chat para discutir votaciones y sospechas</li>
              <li>ğŸ‘€ <strong>Observa patrones:</strong> QuÃ© decretos promulgan, cÃ³mo votan</li>
              <li>ğŸ­ <strong>EngaÃ±a sabiamente:</strong> Los Kirchneristas deben aparentar ser Libertarios</li>
              <li>ğŸ¤ <strong>Forma alianzas:</strong> Pero desconfÃ­a, cualquiera puede ser El Jefe</li>
              <li>âš¡ <strong>ActÃºa rÃ¡pido:</strong> DespuÃ©s de 3 decretos K, Â¡El Jefe puede ganar siendo elegido!</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="footer text-center">
    <p class="text-muted">
      Basado en "Secret Hitler" | CC BY-NC-SA 4.0 | Con fines satÃ­ricos
    </p>
  </footer>
</div>

