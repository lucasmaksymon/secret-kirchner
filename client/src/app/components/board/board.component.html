<div class="board-container" *ngIf="gameState$ | async as gameState">
  <div class="board-layout">
    <!-- Left Section: Policy Tracks -->
    <div class="policies-section">
      <!-- Libertarian Track -->
      <div class="policy-track libertario-track">
        <div class="track-header">
          <h4>ğŸ¦… Libertarios</h4>
          <span class="track-count">{{ gameState.libertarianPolicies }}/5</span>
        </div>
        <div class="policy-slots">
          <div 
            *ngFor="let _ of getLibertarianPolicies()" 
            class="policy-slot filled libertario"
          >
            âœ“
          </div>
          <div 
            *ngFor="let _ of getEmptyLibertarianSlots()" 
            class="policy-slot empty"
          ></div>
        </div>
      </div>

      <!-- Kirchnerista Track -->
      <div class="policy-track kirchnerista-track">
        <div class="track-header">
          <h4>âœŠ Kirchneristas</h4>
          <span class="track-count">{{ gameState.kirchneristaPolicies }}/6</span>
        </div>
        <div class="policy-slots">
          <div
            *ngFor="let _ of getKirchneristaPolicies(); let i = index"
            class="policy-slot filled kirchnerista"
            [class.critical]="i >= 2"
            [class.has-power]="hasPower(i)"
          >
            <span *ngIf="i >= 2 && !hasPower(i)">âš ï¸</span>
            <span *ngIf="i < 2 && !hasPower(i)">âœ“</span>
            <span 
              *ngIf="hasPower(i)" 
              class="power-icon tooltip-trigger"
              [attr.data-tooltip]="getPowerTooltip(getPowerIcon(i))"
            >{{ getPowerIcon(i) }}</span>
          </div>
          <div
            *ngFor="let _ of getEmptyKirchnersistaSlots(); let i = index"
            class="policy-slot empty"
            [class.has-power]="hasPowerEmpty(i)"
          >
            <span 
              *ngIf="hasPowerEmpty(i)" 
              class="power-indicator tooltip-trigger"
              [attr.data-tooltip]="getPowerTooltip(getPowerIconEmpty(i))"
            >{{ getPowerIconEmpty(i) }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Section: Game Info -->
    <div class="info-section">
      <!-- Rechazos -->
      <div class="info-card">
          <h4>ğŸ—³ï¸ Rechazos <span class="chaos-warning" *ngIf="gameState.failedGovernments >= 2">âš ï¸</span></h4>
        <div class="election-markers">
          <div 
            *ngFor="let i of [0, 1, 2]"
            class="election-marker"
            [class.active]="i < gameState.failedGovernments"
          >
            {{ i < gameState.failedGovernments ? 'âœ—' : 'â—‹' }}
          </div>
        </div>
        <div class="tracker-count">{{ gameState.failedGovernments }}/3</div>
      </div>

      <!-- Gobierno -->
      <div class="info-card">
        <h4>ğŸ›ï¸ Gobierno</h4>
        <div class="government-list">
          <div class="government-item">
            <span class="role-icon">ğŸ©</span>
            <div class="role-info">
              <span class="role-label">Presidente</span>
              <span class="player-name">{{ president?.name || '-' }}</span>
            </div>
          </div>
          <div class="government-item">
            <span class="role-icon">ğŸ’¼</span>
            <div class="role-info">
              <span class="role-label">Jefe de Gabinete</span>
              <span class="player-name">{{ cabinetChief?.name || '-' }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- EstadÃ­sticas -->
      <div class="info-card">
        <h4>ğŸ“Š EstadÃ­sticas</h4>
        <div class="stats-grid">
          <div class="stat-item">
            <span class="stat-icon">ğŸ’š</span>
            <div class="stat-content">
              <span class="stat-value">{{ getAlivePlayers(gameState) }}</span>
              <span class="stat-label">Vivos</span>
            </div>
          </div>
          <div class="stat-item">
            <span class="stat-icon">ğŸ’€</span>
            <div class="stat-content">
              <span class="stat-value">{{ getDeadPlayers(gameState) }}</span>
              <span class="stat-label">Muertos</span>
            </div>
          </div>
          <div class="stat-item">
            <span class="stat-icon">ğŸ“š</span>
            <div class="stat-content">
              <span class="stat-value">{{ gameState.deckSize }}</span>
              <span class="stat-label">Mazo</span>
            </div>
          </div>
          <div class="stat-item">
            <span class="stat-icon">ğŸ—‘ï¸</span>
            <div class="stat-content">
              <span class="stat-value">{{ gameState.discardSize }}</span>
              <span class="stat-label">Descarte</span>
            </div>
          </div>
        </div>
        <div class="veto-indicator" *ngIf="gameState.vetoUnlocked">
          <span class="veto-icon">ğŸš«</span>
          <span class="veto-text">Veto Desbloqueado</span>
        </div>
      </div>
    </div>
  </div>
</div>

